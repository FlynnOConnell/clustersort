Search.setIndex({"docnames": ["api/autosort", "api/extraction", "api/index", "api/logger", "api/util", "guide/autosort", "guide/configuration_guide", "guide/index", "guide/spike_waveform_samples_explanation", "index", "install", "package/index", "package/package"], "filenames": ["api/autosort.rst", "api/extraction.rst", "api/index.rst", "api/logger.rst", "api/util.rst", "guide/autosort.rst", "guide/configuration_guide.rst", "guide/index.rst", "guide/spike_waveform_samples_explanation.rst", "index.rst", "install.rst", "package/index.rst", "package/package.rst"], "titles": ["Autosort", "Extraction", "spk2py API", "Logger", "Util", "Semi-Supervised Spike Sorting", "Configuration Guide", "spk2py API", "Spike Waveform Samples Explanation", "Welcome to spk2py\u2019s Documentation", "Installation", "spk2py API", "spk2py"], "terms": {"A": [0, 1, 4, 5, 12], "python": [0, 5, 9, 10, 12], "packag": [0, 5, 9], "spike": [0, 1, 4, 9, 12], "sort": [0, 9, 12], "thi": [0, 1, 5, 8, 10], "design": [0, 4, 5], "autom": 0, "process": [0, 8, 9, 12], "extracellular": [0, 5], "record": [0, 1, 3, 5], "It": [0, 5, 9, 10, 12], "us": [0, 1, 3, 4, 5, 6, 8, 9, 10, 12], "spike2": [0, 1, 5, 9, 12], "softwar": [0, 5, 6], "from": [0, 1, 4, 5, 9, 10, 12], "ced": 0, "pl2": 0, "file": [0, 1, 3, 4, 5, 6, 9, 12], "plexon": 0, "develop": 0, "The": [0, 1, 3, 4, 5, 6, 8, 9, 12], "pipelin": [0, 10, 12], "which": [0, 5], "seri": 0, "step": [0, 5], "ar": [0, 1, 3, 5, 9, 10, 12], "perform": [0, 4, 5, 9, 12], "data": [0, 1, 4, 5, 8, 9, 12], "extract": [0, 2, 4, 5, 6, 7, 8, 9, 12], "cluster": [0, 4, 5], "them": [0, 10], "follow": [0, 5, 6], "read": [0, 1, 4], "filter": [0, 1, 4], "breach": [0, 6], "analysi": [0, 4, 6, 9, 12], "resort": [0, 6], "base": [0, 1, 5, 9, 10, 12], "save": [0, 4, 6], "an": [0, 4, 12], "hdf5": [0, 4], "graph": 0, "given": [0, 4, 8], "plot": [0, 5, 9, 12], "folder": [0, 5], "class": [0, 1, 3], "spk2py": [0, 1, 3, 4, 10], "directorymanag": 0, "filepath": [0, 1], "manag": 0, "directori": [0, 6], "store": [0, 1], "report": 0, "intermedi": 0, "attribut": [0, 3], "filenam": [0, 1, 4], "str": [0, 1, 3, 4], "stem": [0, 1], "input": [0, 4, 5], "base_path": 0, "path": [0, 1, 3, 4, 5], "parent": 0, "main": 0, "categori": 0, "base_suffix": 0, "suffix": [0, 1], "list": [0, 1, 4], "all": [0, 1, 4], "primari": [0, 5], "instanc": 0, "idx": 0, "int": [0, 1, 3, 4, 6], "index": 0, "channel": [0, 1, 10], "creation": [0, 10], "default": [0, 3, 4, 6, 8], "0": [0, 1, 4, 5, 6, 8], "properti": [0, 1], "increment": 0, "1": [0, 1, 4, 5, 6, 8, 10], "create_base_directori": 0, "creat": [0, 6, 10], "raw": [0, 9, 12], "temporari": [0, 6], "create_channel_directori": 0, "num_chan": 0, "set": [0, 1], "subdirectori": 0, "specif": 0, "under": [0, 5], "each": [0, 4, 5, 8, 10], "paramet": [0, 1, 3, 4, 5, 8], "number": [0, 1, 4, 9, 12], "flush_directori": 0, "delet": 0, "rais": 0, "except": 0, "If": 0, "error": 0, "processchannel": 0, "param": 0, "dir_manag": 0, "chan_num": 0, "run": [0, 5, 10], "singl": [0, 4, 5], "name": [0, 1, 3], "ndarrai": [0, 4], "arrai": [0, 1, 4], "spkconfig": 0, "hold": [0, 10], "object": [0, 3, 4], "dict": [0, 1, 3, 4], "dictionari": [0, 1, 4], "sampling_r": [0, 4], "float": [0, 1, 4], "sampl": [0, 1, 4, 6], "rate": [0, 4, 6, 8], "18518": [0, 8], "52": 0, "method": [0, 3, 5, 10], "pvar": 0, "return": [0, 1, 3, 4], "percent": [0, 6], "varianc": [0, 4, 6], "explain": [0, 4, 6], "princip": [0, 4, 6], "compon": [0, 4, 6], "usepvar": 0, "whether": 0, "userpc": 0, "max_clust": 0, "total": [0, 1], "max_iter": 0, "maximum": [0, 4], "iter": [0, 4, 6], "gmm": [0, 4, 6], "thresh": 0, "converg": [0, 4, 6], "criterion": [0, 4, 6], "num_restart": 0, "random": [0, 6], "restart": [0, 4, 6], "wf_amplitude_sd_cutoff": 0, "standard": [0, 4, 6], "deviat": [0, 4, 6], "abov": [0, 10], "mean": [0, 1, 8], "reject": [0, 4], "waveform": [0, 1, 4, 5, 7, 9, 12], "artifact_remov": 0, "pre_tim": 0, "post_tim": 0, "bandpass": [0, 1, 4], "low": [0, 6], "high": [0, 5, 6], "cutoff": [0, 4, 6], "frequenc": [0, 4, 6], "spike_detect": 0, "std": [0, 4], "max_breach_r": 0, "max_breach_count": 0, "count": [0, 6], "max_breach_avg": 0, "averag": 0, "voltage_cutoff": 0, "voltag": [0, 6], "compile_isoi": 0, "maxclust": 0, "7": [0, 6, 8], "l_ratio_cutoff": 0, "compil": [0, 5], "inter": 0, "interv": [0, 1], "isi": [0, 5, 9, 12], "appli": [0, 4], "condit": 0, "format": [0, 3, 9, 12], "through": 0, "s": [0, 6, 8], "solut": 0, "inform": [0, 4, 5], "write": 0, "excel": 0, "also": [0, 9, 10, 12], "valu": [0, 1, 4], "option": [0, 3, 4], "consid": [0, 5], "l": [0, 4, 5, 6], "ratio": [0, 4, 5, 6], "sheet": 0, "none": [0, 3], "doe": 0, "ani": [0, 10], "fail": 0, "note": [0, 10], "function": [0, 5], "append": 0, "datafram": 0, "csv": 0, "contain": [0, 1, 4, 5, 8], "process_channel": 0, "execut": 0, "entir": 0, "workflow": 0, "one": 0, "includ": [0, 5], "dejitt": [0, 4], "pca": [0, 4], "transform": 0, "found": 0, "out": [0, 5], "warn": 0, "result": [0, 6, 9, 12], "disk": 0, "check": [0, 1], "amplitud": 0, "time": [0, 1, 3, 4, 6], "npy": 0, "scale": [0, 4], "energi": [0, 4], "spk_gmm": 0, "times_fin": 0, "n_pc": 0, "gaussian": [0, 4], "mixtur": [0, 4], "model": [0, 4], "take": 0, "pre": [0, 1, 5, 6, 8], "categor": 0, "differ": [0, 4], "neuron": 0, "unit": [0, 1, 4, 5], "multipl": [0, 5], "valid": [0, 3], "array_lik": 0, "2d": 0, "where": [0, 1, 6], "row": 0, "repres": 0, "column": 0, "featur": 0, "e": 0, "g": 0, "etc": 0, "1d": 0, "stamp": 0, "encount": 0, "cluster_gmm": [0, 4], "actual": 0, "algorithm": 0, "implement": 0, "mahalanobi": [0, 5, 9, 12], "comput": [0, 5], "distanc": [0, 9, 12], "assess": 0, "qualiti": [0, 4, 5], "discard": 0, "invalid": 0, "certain": 0, "criteria": 0, "too": [0, 10], "few": 0, "metric": 0, "like": [0, 4, 10], "violat": 0, "superplot": [0, 5], "conglomer": 0, "individu": [0, 4, 5], "combin": 0, "per": [0, 1], "doesn": 0, "t": 0, "side": 0, "effect": 0, "cannot": 0, "print": 0, "consol": 0, "cfg_path": 0, "configur": [0, 3, 5, 7, 9, 10], "ini": 0, "style": [0, 3], "provid": [0, 9, 12], "access": 0, "section": 0, "These": 0, "so": [0, 10], "defin": [0, 6, 8], "locat": 0, "relat": 0, "runtim": 0, "limit": [0, 6], "core": [0, 6], "max": [0, 6], "disconnect": [0, 6], "post": [0, 1, 8, 9, 12], "see": [0, 10], "configpars": 0, "librari": [0, 5, 9, 12], "kei": [0, 1, 4], "pair": 0, "detect": [0, 4, 6, 8], "get_al": 0, "get_sect": 0, "config": [0, 6], "postprocess": 0, "read_config": 0, "load": 0, "configuraton": 0, "set_config": 0, "fals": [0, 1], "bool": 0, "true": [0, 1, 3], "its": 0, "set_default_config": 0, "run_spk_process": 0, "factori": 0, "can": [0, 1, 9, 10, 12], "sever": 0, "2": [0, 4, 5, 6, 8], "tupl": [0, 1, 4], "field": [0, 1], "todo": 0, "add": 0, "support": [0, 10], "panda": 0, "other": [0, 9, 10, 12], "output": [0, 3, 4, 5], "waveforms_datashad": 0, "x_valu": 0, "dir_nam": 0, "datashader_temp": 0, "datashad": 0, "imag": [0, 6], "correspond": [0, 4], "x": 0, "axi": 0, "gener": [0, 4, 5, 10], "visual": 0, "downsampl": 0, "canva": 0, "setup": 0, "aggreg": 0, "export": [0, 9, 12], "displai": 0, "matplotlib": 0, "numpi": [0, 10], "fig": 0, "figur": 0, "ax": 0, "intend": 0, "modul": [0, 3], "reli": 0, "spikedata": 1, "exclud": 1, "respirat": 1, "sniff": 1, "refbrain": 1, "lfp": 1, "element": 1, "boolean": 1, "empti": 1, "string": [1, 3], "bandpass_high": 1, "upper": 1, "bound": 1, "bandpass_low": 1, "lower": [1, 9], "bundle_metadata": 1, "bundl": 1, "metadata": 1, "channel_interv": 1, "get": [1, 10], "clock": 1, "tick": 1, "equal": 1, "second": [1, 8], "channel_max_tick": 1, "last": 1, "point": [1, 4], "last_tim": 1, "channel_max_tim": 1, "channel_num_tick": 1, "channel_sample_period": 1, "period": 1, "max_channel": 1, "max_tick": 1, "postinfus": 1, "infus": 1, "preinfus": 1, "process_unit": 1, "recording_length": 1, "length": 1, "time_bas": 1, "everyth": 1, "quantifi": 1, "underli": 1, "64": 1, "bit": 1, "you": [1, 8, 10], "need": 1, "interpret": 1, "unitdata": 1, "alia": 1, "autosort": [2, 5, 7, 9], "util": [2, 9, 12], "log": [2, 3, 9], "initi": [3, 4, 6], "color": 3, "stream": 3, "handler": 3, "configure_logg": 3, "coloredformatt": 3, "fmt": 3, "datefmt": 3, "formatt": 3, "map": 3, "level": [3, 9], "termin": 3, "logrecord": 3, "messag": 3, "estformatt": 3, "timestamp": 3, "eastern": 3, "zone": 3, "formattim": 3, "date": 3, "log_fil": 3, "20": [3, 6], "info": [3, 5, 10], "n_cluster": 4, "n_iter": 4, "threshold": [4, 5], "d": [4, 5], "best_fit_gmm": 4, "best": 4, "fit": 4, "predict": 4, "assign": 4, "min_bayesian": 4, "minimum": 4, "bayesian": 4, "bic": 4, "achiev": 4, "across": 4, "slice": 4, "spike_tim": 4, "spike_snapshot": [4, 8], "6": [4, 6, 8], "adjust": 4, "align": 4, "minim": 4, "jitter": 4, "indic": 4, "posit": 4, "signal": [4, 5], "hz": [4, 8], "rang": [4, 6], "millisecond": [4, 8], "around": [4, 8], "pre_spike_tim": 4, "post_spike_tim": 4, "slices_dejitt": 4, "spike_times_dejitt": 4, "updat": 4, "extract_waveform": [4, 8], "np": 4, "cutoff_std": 4, "10": [4, 6], "electrod": 4, "alreadi": 4, "20000": [4, 6], "filter_sign": 4, "sig": 4, "freq": 4, "300": 4, "6000": 4, "butterworth": 4, "digit": 4, "analog": 4, "20khz": 4, "low_frequ": 4, "high_frequ": 4, "filt_el": 4, "get_lratio": 4, "calcul": 4, "measur": [4, 5], "lrat": 4, "label": 4, "implement_pca": 4, "scaled_slic": 4, "pca_slic": 4, "explained_variance_ratio": 4, "proport": 4, "read_group": 4, "group": 4, "h5py": 4, "read_h5": 4, "exampl": 4, "h5": [4, 5], "scale_waveform": 4, "write_h5": 4, "unit_dict": 4, "specifi": 4, "unit1": 4, "3": [4, 6, 8, 10], "unit2": 4, "4": [4, 8], "5": [4, 5, 6, 10], "repositori": 5, "adapt": 5, "code": [5, 8], "describ": 5, "mukherje": 5, "wachutka": 5, "katz": 5, "2017": 5, "larg": 5, "percentag": 5, "were": 5, "made": 5, "reddish": 5, "2005": 5, "program": [5, 9, 12], "electrophysiolog": [5, 8, 9, 12], "isol": [5, 6], "continu": 5, "compat": 5, "licens": 5, "window": 5, "maco": 5, "linux": [5, 10], "well": 5, "suit": 5, "container": 5, "distribut": [5, 10], "gnu": 5, "public": 5, "v3": 5, "gplv3": 5, "For": [5, 10], "more": 5, "consult": 5, "thei": 5, "user": [5, 6, 9, 12], "conveni": 5, "import": 5, "about": 5, "clustering_results_compiled_isoi": 5, "xlsx": 5, "detail": 5, "ms": 5, "must": 5, "cellular": 5, "suffici": 5, "separ": 5, "schmitzer": 5, "torbert": 5, "et": 5, "al": 5, "structur": 5, "further": [5, 9, 12], "carri": 5, "via": 5, "gui": 5, "requir": [5, 10], "both": [5, 10], "json": 5, "narendra": 5, "joseph": 5, "donald": 5, "meet": 5, "system": [5, 10], "neurosci": 5, "afford": 5, "scalabl": 5, "open": 5, "sourc": 5, "awak": 5, "behav": 5, "rodent": 5, "98": 5, "105": 5, "n": [5, 6, 10], "jackson": 5, "j": 5, "henz": 5, "harri": 5, "k": 5, "redish": 5, "ad": [5, 8], "quantit": 5, "131": 5, "11": [5, 8], "interact": 5, "sonpi": [5, 9, 12], "avail": 5, "pypi": 5, "org": 5, "necessari": 6, "config_v": 6, "hardwar": 6, "8": 6, "weekdai": 6, "weekend": 6, "type": 6, "auto": 6, "manual": 6, "variou": 6, "script": 6, "complet": [6, 12], "move": 6, "1000": 6, "0001": 6, "preprocess": [6, 12], "1500": 6, "avg": 6, "intra": 6, "hpc_cluster": 6, "interest": 6, "600": 6, "3000": 6, "artifact": 6, "remov": 6, "95": 6, "reanalyz": 6, "simpl": 6, "size": 6, "70": 6, "dir": 6, "home": 6, "tmp_python": 6, "control": 6, "determin": 6, "pass": 6, "procedur": [7, 9], "when": 8, "crucial": 8, "understand": 8, "how": 8, "mani": 8, "In": [8, 10], "befor": 8, "after": 8, "itself": 8, "18": 8, "518": 8, "would": 8, "frac": 8, "approxim": 8, "054": 8, "approx": 8, "round": 8, "give": 8, "16": 8, "framework": [9, 12], "analyz": [9, 12], "tool": [9, 12], "onc": [9, 12], "abl": [9, 12], "autocorrelogram": [9, 12], "varieti": [9, 12], "instal": 9, "mamba": 9, "guid": 9, "api": 9, "9": 10, "compli": 10, "numba": 10, "restrict": 10, "github": 10, "mambaforg": 10, "drastic": 10, "speed": 10, "up": 10, "environ": 10, "work": 10, "much": 10, "faster": 10, "env": 10, "f": 10, "yml": 10, "activ": 10, "addition": 10, "though": 10, "directli": 10, "pip": 10, "ha": 10, "been": 10, "test": 10, "than": 10, "platform": 10, "As": 10, "we": 10, "start": 10, "come": 10, "popular": 10, "forg": 10, "preconfigur": 10, "modifi": 10, "anaconda": 10, "incompat": 10, "should": 10, "mix": 10, "meant": 10, "depend": 10, "strongli": 10, "discourag": 10, "anyth": 10, "els": 10, "envion": 10, "do": 10, "mai": 10, "break": 10, "wai": 10, "To": 10, "just": 10, "NOT": 10, "prefer": 10, "instead": 10, "overrid": 10, "c": [10, 12], "python_abi": 10, "cp": 10, "addit": 10, "standalon": 10, "condaforg": 10, "rm": 10, "latest": 10, "full": 12, "wrapper": 12, "i": 12, "recommend": 12, "explor": 12, "docstr": 12, "ipython": 12, "advanc": 12, "shell": 12, "tab": 12, "introspect": 12, "capabl": 12}, "objects": {"": [[12, 0, 0, "-", "spk2py"]], "spk2py": [[0, 0, 0, "-", "autosort"], [1, 0, 0, "-", "extraction"], [3, 0, 0, "-", "logging"], [4, 0, 0, "-", "util"]], "spk2py.autosort": [[0, 1, 1, "", "DirectoryManager"], [0, 1, 1, "", "ProcessChannel"], [0, 1, 1, "", "SpkConfig"], [0, 4, 1, "", "run_spk_process"], [0, 4, 1, "", "waveforms_datashader"]], "spk2py.autosort.DirectoryManager": [[0, 2, 1, "", "channel"], [0, 3, 1, "", "create_base_directories"], [0, 3, 1, "", "create_channel_directories"], [0, 3, 1, "", "flush_directories"], [0, 2, 1, "", "intermediate"], [0, 2, 1, "", "plots"], [0, 2, 1, "", "processed"], [0, 2, 1, "", "reports"]], "spk2py.autosort.ProcessChannel": [[0, 2, 1, "", "artifact_removal"], [0, 2, 1, "", "bandpass"], [0, 3, 1, "", "compile_isoi"], [0, 2, 1, "", "max_breach_avg"], [0, 2, 1, "", "max_breach_count"], [0, 2, 1, "", "max_breach_rate"], [0, 2, 1, "", "max_clusters"], [0, 2, 1, "", "max_iterations"], [0, 2, 1, "", "num_restarts"], [0, 2, 1, "", "post_time"], [0, 2, 1, "", "pre_time"], [0, 3, 1, "", "process_channel"], [0, 2, 1, "", "pvar"], [0, 2, 1, "", "spike_detection"], [0, 3, 1, "", "spk_gmm"], [0, 2, 1, "", "std"], [0, 3, 1, "", "superplots"], [0, 2, 1, "", "thresh"], [0, 2, 1, "", "usepvar"], [0, 2, 1, "", "userpc"], [0, 2, 1, "", "voltage_cutoff"], [0, 2, 1, "", "wf_amplitude_sd_cutoff"]], "spk2py.autosort.SpkConfig": [[0, 2, 1, "", "breach"], [0, 2, 1, "", "cluster"], [0, 2, 1, "", "detection"], [0, 2, 1, "", "filter"], [0, 3, 1, "", "get_all"], [0, 3, 1, "", "get_section"], [0, 2, 1, "", "path"], [0, 2, 1, "", "pca"], [0, 2, 1, "", "postprocess"], [0, 3, 1, "", "read_config"], [0, 2, 1, "", "run"], [0, 3, 1, "", "set"], [0, 3, 1, "", "set_config"], [0, 3, 1, "", "set_default_config"], [0, 2, 1, "", "spike"]], "spk2py.extraction": [[1, 1, 1, "", "SpikeData"], [1, 1, 1, "", "UnitData"]], "spk2py.extraction.SpikeData": [[1, 2, 1, "", "bandpass_high"], [1, 2, 1, "", "bandpass_low"], [1, 3, 1, "", "bundle_metadata"], [1, 3, 1, "", "channel_interval"], [1, 3, 1, "", "channel_max_ticks"], [1, 3, 1, "", "channel_max_time"], [1, 3, 1, "", "channel_num_ticks"], [1, 3, 1, "", "channel_sample_period"], [1, 2, 1, "", "max_channels"], [1, 2, 1, "", "max_ticks"], [1, 2, 1, "", "postinfusion"], [1, 2, 1, "", "preinfusion"], [1, 3, 1, "", "process_units"], [1, 2, 1, "", "recording_length"], [1, 2, 1, "", "time_base"]], "spk2py.extraction.UnitData": [[1, 5, 1, "", "spikes"], [1, 5, 1, "", "times"]], "spk2py.logging": [[3, 1, 1, "", "ColoredFormatter"], [3, 1, 1, "", "ESTFormatter"], [3, 4, 1, "", "configure_logger"]], "spk2py.logging.ColoredFormatter": [[3, 3, 1, "", "format"]], "spk2py.logging.ESTFormatter": [[3, 3, 1, "", "formatTime"]], "spk2py.util": [[4, 4, 1, "", "cluster_gmm"], [4, 4, 1, "", "dejitter"], [4, 4, 1, "", "extract_waveforms"], [4, 4, 1, "", "filter_signal"], [4, 4, 1, "", "get_lratios"], [4, 4, 1, "", "implement_pca"], [4, 4, 1, "", "read_group"], [4, 4, 1, "", "read_h5"], [4, 4, 1, "", "scale_waveforms"], [4, 4, 1, "", "write_h5"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:property", "3": "py:method", "4": "py:function", "5": "py:attribute"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "property", "Python property"], "3": ["py", "method", "Python method"], "4": ["py", "function", "Python function"], "5": ["py", "attribute", "Python attribute"]}, "titleterms": {"autosort": 0, "extract": 1, "spk2py": [2, 7, 9, 11, 12], "api": [2, 7, 11], "modul": 2, "logger": 3, "util": 4, "semi": 5, "supervis": 5, "spike": [5, 6, 8], "sort": 5, "usag": 5, "analysi": 5, "criteria": 5, "post": [5, 6], "process": [5, 6], "pipelin": 5, "refer": 5, "extern": 5, "resourc": 5, "configur": 6, "guid": [6, 12], "function": 6, "default_config": 6, "section": 6, "paramet": 6, "run": 6, "set": [6, 8], "path": 6, "cluster": 6, "signal": 6, "filter": 6, "std": 6, "dev": 6, "pca": 6, "version": 6, "waveform": 8, "sampl": 8, "explan": 8, "up": 8, "snapshot": 8, "durat": 8, "calcul": 8, "number": 8, "welcom": 9, "s": 9, "document": [9, 12], "get": 9, "start": 9, "instal": 10, "mamba": 10, "exist": 10, "conda": 10, "recommend": 10, "docker": 10, "imag": 10}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})